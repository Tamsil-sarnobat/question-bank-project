<% layout('layouts/boilerplate') %>

<div class="container mt-5">
  <h2>Upload Question Paper</h2>
  <form action="/questionPapers" method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>
    <div class="mb-3">
      <label for="title" class="form-label">Title</label>
      <input type="text" name="title" class="form-control" id="title" required>
      <div class="invalid-feedback">Title is required</div>
    </div>

    <div class="mb-3">
      <label for="subject" class="form-label">Subject</label>
      <select name="subject" id="subject" class="form-select" required>
        <option value="">Select a Subject</option>
        <% subjects.forEach(subject => { %>
          <option value="<%= subject._id %>"><%= subject.name %></option>
        <% }); %>
      </select>
      <div class="invalid-feedback">Subject is required</div>
    </div>

    <div class="mb-3">
      <label for="file" class="form-label">Upload PDF</label>
      <input type="file" name="file" id="file" class="form-control" accept=".pdf" required>
      <div class="invalid-feedback">Please upload a PDF</div>
    </div>

    <button type="submit" class="btn btn-primary">Upload</button>
  </form>
</div>